/*Copyright 2017 Timofey Rechkalov <ntsdk@yandex.ru>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
   limitations under the License. */

/*
 */
"use strict";

(function(exports){

    function ValidationError(messageId, parameters) {
      Error.call(this, arguments) ;
      this.name = "ValidationError";
    
      this.messageId = messageId;
      this.parameters = parameters;
    
      if (Error.captureStackTrace) {
        Error.captureStackTrace(this, ValidationError);
      } else {
        this.stack = (new Error()).stack;
      }
    };
    
    ValidationError.prototype = Object.create(Error.prototype);
    
    exports.ValidationError = ValidationError;
    
    function InternalError(messageId, parameters) {
        Error.call(this, arguments) ;
        this.name = "InternalError";
        
        this.messageId = messageId;
        this.parameters = parameters;
        
        if (Error.captureStackTrace) {
            Error.captureStackTrace(this, InternalError);
        } else {
            this.stack = (new Error()).stack;
        }
    };
    
    InternalError.prototype = Object.create(Error.prototype);
    
    exports.InternalError = InternalError;

})(typeof exports === 'undefined'? this['Errors']={}: exports);
/*!
 * EventEmitter v5.1.0 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */
(function(){"use strict";function t(){}function i(t,n){for(var e=t.length;e--;)if(t[e].listener===n)return e;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var e=t.prototype,r=this,s=r.EventEmitter;e.getListeners=function(n){var r,e,t=this._getEvents();if(n instanceof RegExp){r={};for(e in t)t.hasOwnProperty(e)&&n.test(e)&&(r[e]=t[e])}else r=t[n]||(t[n]=[]);return r},e.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},e.getListenersAsObject=function(n){var e,t=this.getListeners(n);return t instanceof Array&&(e={},e[n]=t),e||t},e.addListener=function(r,e){var t,n=this.getListenersAsObject(r),s="object"==typeof e;for(t in n)n.hasOwnProperty(t)&&-1===i(n[t],e)&&n[t].push(s?e:{listener:e,once:!1});return this},e.on=n("addListener"),e.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},e.once=n("addOnceListener"),e.defineEvent=function(e){return this.getListeners(e),this},e.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},e.removeListener=function(r,s){var n,e,t=this.getListenersAsObject(r);for(e in t)t.hasOwnProperty(e)&&(n=i(t[e],s),-1!==n&&t[e].splice(n,1));return this},e.off=n("removeListener"),e.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},e.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},e.manipulateListeners=function(r,t,i){var e,n,s=r?this.removeListener:this.addListener,o=r?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(e=i.length;e--;)s.call(this,t,i[e]);else for(e in t)t.hasOwnProperty(e)&&(n=t[e])&&("function"==typeof n?s.call(this,e,n):o.call(this,e,n));return this},e.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"===r)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},e.removeAllListeners=n("removeEvent"),e.emitEvent=function(n,u){var r,e,t,i,o,s=this.getListenersAsObject(n);for(i in s)if(s.hasOwnProperty(i))for(r=s[i].slice(0),t=0;t<r.length;t++)e=r[t],e.once===!0&&this.removeListener(n,e.listener),o=e.listener.apply(this,u||[]),o===this._getOnceReturnValue()&&this.removeListener(n,e.listener);return this},e.trigger=n("emitEvent"),e.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},e.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},e._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},e._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return r.EventEmitter=s,t},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:r.EventEmitter=t}).call(this);
/*Copyright 2017 Timofey Rechkalov <ntsdk@yandex.ru>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
   limitations under the License. */

"use strict";

(function(callback){
        
    function CommonUtils(exports, R) {
    
        exports.startsWith = function(str1, str2){
            return str1.substring(0, str2.length) === str2;
        };
    
        exports.removeFromArrayByIndex = function(array, from, to) {
            "use strict";
            var rest = array.slice((to || from) + 1 || array.length);
            array.length = from < 0 ? array.length + from : from;
            return array.push.apply(array, rest);
        };
        
        exports.charOrdAFactoryBase = R.curry(function(sortDir, prepare){
            return function(a, b) {
                a = prepare(a);
                b = prepare(b);
                if(R.isNil(a) && R.isNil(b)) return 0;
                if(R.isNil(a)) return 1;
                if(R.isNil(b)) return -1;
                if (a > b)
                    return sortDir === "asc" ? 1 : -1;
                if (a < b)
                    return sortDir === "asc" ? -1 : 1;
                return 0;
            };
        });
        
        exports.charOrdAFactory = exports.charOrdAFactoryBase('asc');
        
        exports.charOrdA = exports.charOrdAFactory(function(a){return a.toLowerCase();});
        
        exports.eventsByTime = exports.charOrdAFactory(function(a){return new Date(a.time);});
    
        exports.strFormat = function(str, vals){
            "use strict";
            return str.replace(/\{\{|\}\}|\{(\d+)\}/g, function (m, n) {
                if (m == "{{") { return "{"; }
                if (m == "}}") { return "}"; }
                return vals[n];
            });
        };
        
        exports.consoleLog = function(str){
            "use strict";
            console.log(str);
        };
        
        exports.clone = function(o) {
            "use strict";
            if (!o || 'object' !== typeof o) {
                return o;
            }
            var c = 'function' === typeof o.pop ? [] : {};
            var p, v;
            for (p in o) {
                if (o.hasOwnProperty(p)) {
                    v = o[p];
                    if (v && 'object' === typeof v) {
                        c[p] = exports.clone(v);
                    } else {
                        c[p] = v;
                    }
                }
            }
            return c;
        };
        
        var preg_quote = function (str, delimiter) {
            "use strict";
            // http://kevin.vanzonneveld.net
            // + original by: booeyOH
            // + improved by: Ates Goral (http://magnetiq.com)
            // + improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
            // + bugfixed by: Onno Marsman
            // + improved by: Brett Zamir (http://brett-zamir.me)
            // * example 1: preg_quote("$40");
            // * returns 1: '\$40'
            // * example 2: preg_quote("*RRRING* Hello?");
            // * returns 2: '\*RRRING\* Hello\?'
            // * example 3: preg_quote("\\.+*?[^]$(){}=!<>|:");
            // * returns 3: '\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:'
            return (str + '').replace(new RegExp('[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\'
                    + (delimiter || '') + '-]', 'g'), '\\$&');
        };
        
        exports.globStringToRegex = function (str) {
            "use strict";
            return new RegExp(preg_quote(str).replace(/\\\*/g, '.*').replace(
                    /\\\?/g, '.'), 'g');
        };
        
        // taken from MDN https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions
        exports.escapeRegExp = function(string){
          return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // $& means the whole matched string
        };
        
        exports.arr2map = function(array, key){
            return array.reduce(function(a, b) {
                a[b[key]] = b;
                return a;
            }, {});
        };
        
    }
    
    callback(CommonUtils);

})(function(api){
    typeof exports === 'undefined'? api(this['CommonUtils'] = {}, R) : module.exports = api;
}.bind(this));
/*Copyright 2017 Timofey Rechkalov <ntsdk@yandex.ru>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
   limitations under the License. */

"use strict";

(function(callback){
        
    function Precondition(exports, R, Errors) {
    
        exports.makeValidationError = function(err){
            err.splice(0, 0, null);
            return new (Function.prototype.bind.apply(Errors.ValidationError, err));
        };
        
        // precondition API
        exports.precondition = R.curry(function(check, reject, resolve){
            var err = check();
            if(err === null){
                resolve();
            } else {
                reject(exports.makeValidationError(err));
            }
        });
        
        exports.chainCheck = R.curry(function(arr){
            return () => {
                return arr.reduce(function(err, item){
                    if(err) return err;
                    return item();
                }, null);
            }
        });
        
        exports.eitherCheck = R.curry(function(func1, func2){
            return () => {
                var res1 = func1();
                if(res1 === null){
                    return null;
                }
                var res2 = func2();
                if(res2 === null){
                    return null;
                }
                return res1;
            }
        });
        
        // primitive precondition checks
        var arrContainsElsCheck = R.curry(function(msg, els, valueList){
            return () => {
                var diff = R.difference(els, valueList);
                return diff.length === 0 ? null : [msg, [JSON.stringify(diff)]];
            }
        });
        
        exports.elementsFromEnum = arrContainsElsCheck('errors-unsupported-types-in-list');
        exports.entitiesExist = arrContainsElsCheck('errors-entities-are-not-exist');
        
        var arrContainsElCheck = R.curry(function(msg, el, valueList){
            return () => {
                return R.contains(el, valueList) ? null : [msg, [el]];
            }
        });
        
        exports.elementFromEnum = arrContainsElCheck('errors-unsupported-type-in-list');
        exports.entityExists = arrContainsElCheck('errors-entity-is-not-exist');
        
        exports.entityIsNotUsed = R.curry(function(el, valueList){
            return () => {
                return !R.contains(el, valueList) ? null : ['errors-entity-is-used', [el]];
            }
        });
        
        exports.isString = R.curry(function(el){
            return () => {
                return R.is(String, el) ? null : ['errors-argument-is-not-a-string', [el]];
            }
        });
        
        exports.isEmptyString = R.curry(function(el){
            return () => {
                return R.equals('', el) ? null : ['errors-argument-is-not-empty-string', [el]];
            }
        });
        
        exports.isNotEmptyString = R.curry(function(el){
            return () => {
                return !R.equals('', el) ? null : ['errors-argument-is-empty-string', [el]];
            }
        });
        
        exports.nameIsNotEmpty = R.curry(function(el){
            return () => {
                return !R.equals('', el) ? null : ['errors-name-is-empty-string', [el]];
            }
        });
        
        exports.isArray = R.curry(function(el){
            return () => {
                return R.is(Array, el) ? null : ['errors-argument-is-not-an-array', [el]];
            }
        });
        
        exports.isObject = R.curry(function(el){
            return () => {
                return R.is(Object, el) ? null : ['errors-argument-is-not-an-object', [el]];
            }
        });
        
        exports.isBoolean = R.curry(function(el){
            return () => {
                return R.is(Boolean, el) ? null : ['errors-argument-is-not-a-boolean', [el]];
            }
        });
        
        exports.isNumber = R.curry(function(el){
            return () => {
                return R.is(Number, el) ? null : ['errors-argument-is-not-a-number', [el]];
            }
        });
        
        exports.isNil = R.curry(function(el){
            return () => {
                return R.isNil(el) ? null : ['errors-argument-is-not-nil', [el]];
            }
        });
        
        exports.nil = R.curry(function(){
            return () => {
                return null;
            }
        });
        
        exports.notEquals = R.curry(function(el, el2){
            return () => {
                return !R.equals(el, el2) ? null : ['errors-argument-must-not-be-equal', [el]];
            }
        });
        
        exports.equals = R.curry(function(el, el2){
            return () => {
                return R.equals(el, el2) ? null : ['errors-arguments-must-be-equal', [el, el2]];
            }
        });
        
        exports.isInRange = R.curry(function(el, low, up){
            return () => {
                return low <= el && el <= up ? null : ['errors-argument-is-not-in-range', [el, low, up]];
            }
        });
        
        exports.isNonNegative = R.curry(function(el){
            return () => {
                return 0 <= el ? null : ['errors-argument-is-negative', [el]];
            }
        });
        
        exports.createEntityCheck = R.curry(function(entityName, entityList){
            return exports.chainCheck([exports.isString(entityName), exports.nameIsNotEmpty(entityName), exports.entityIsNotUsed(entityName, entityList)]);
        });
        
        exports.entityExistsCheck = exports.removeEntityCheck = R.curry(function(entityName, entityList){
            return exports.chainCheck([exports.isString(entityName), exports.entityExists(entityName, entityList)]);
        });
        
        exports.renameEntityCheck = R.curry(function(fromName, toName, entityList){
            return exports.chainCheck([exports.removeEntityCheck(fromName, entityList), exports.createEntityCheck(toName, entityList)]);
        });
        
        exports.switchEntityCheck = R.curry(function(entity1, entity2, entityList, entityContainerList){
            return exports.chainCheck([exports.entityExistsCheck(entity1, entityList), 
                                       exports.entityExistsCheck(entity2, entityList),
                                       exports.entityExists(entity1, entityContainerList),
                                       exports.entityIsNotUsed(entity2, entityContainerList)]);
        });
        
        exports.patternCheck = R.curry(function(el,regex){
            return () => {
                return regex.test(el) ? null : ['errors-argument-doesnt-match-pattern', [el, regex.toString()]];
            }
        });
        
        exports.arrayCheck = R.curry(function(arr, check){
            return exports.chainCheck(arr.map(check));
        });
        
        exports.getValueCheck = function(type){
            switch (type) {
            case "checkbox":
                return exports.isBoolean;
            case "number":
                return exports.isNumber;
            }
            return exports.isString;
        };
        
    }
    
    callback(Precondition);

})(function(api){
    typeof exports === 'undefined'? api(this['Precondition'] = {}, R, Errors) : module.exports = api;
}.bind(this));
/*
 * Date Format 1.2.3
 * (c) 2007-2009 Steven Levithan <stevenlevithan.com>
 * MIT license
 *
 * Includes enhancements by Scott Trenda <scott.trenda.net>
 * and Kris Kowal <cixar.com/~kris.kowal/>
 *
 * Accepts a date, a mask, or a date and a mask.
 * Returns a formatted version of the given date.
 * The date defaults to the current date/time.
 * The mask defaults to dateFormat.masks.default.
 */

// Thanks for your work ;) 
// NtsDK

(function(callback){

var dateFormat = function () {
    var    token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,
        timezone = /\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,
        timezoneClip = /[^-+\dA-Z]/g,
        pad = function (val, len) {
            val = String(val);
            len = len || 2;
            while (val.length < len) val = "0" + val;
            return val;
        };

    // Regexes and supporting functions are cached through closure
    return function (date, mask, utc) {
        var dF = dateFormat;

        // You can't provide utc if you skip other args (use the "UTC:" mask prefix)
        if (arguments.length == 1 && Object.prototype.toString.call(date) == "[object String]" && !/\d/.test(date)) {
            mask = date;
            date = undefined;
        }

        // Passing date through Date applies Date.parse, if necessary
        date = date ? new Date(date) : new Date;
        if (isNaN(date)) throw SyntaxError("invalid date");

        mask = String(dF.masks[mask] || mask || dF.masks["default"]);

        // Allow setting the utc argument via the mask
        if (mask.slice(0, 4) == "UTC:") {
            mask = mask.slice(4);
            utc = true;
        }

        var    _ = utc ? "getUTC" : "get",
            d = date[_ + "Date"](),
            D = date[_ + "Day"](),
            m = date[_ + "Month"](),
            y = date[_ + "FullYear"](),
            H = date[_ + "Hours"](),
            M = date[_ + "Minutes"](),
            s = date[_ + "Seconds"](),
            L = date[_ + "Milliseconds"](),
            o = utc ? 0 : date.getTimezoneOffset(),
            flags = {
                d:    d,
                dd:   pad(d),
                ddd:  dF.i18n.dayNames[D],
                dddd: dF.i18n.dayNames[D + 7],
                m:    m + 1,
                mm:   pad(m + 1),
                mmm:  dF.i18n.monthNames[m],
                mmmm: dF.i18n.monthNames[m + 12],
                yy:   String(y).slice(2),
                yyyy: y,
                h:    H % 12 || 12,
                hh:   pad(H % 12 || 12),
                H:    H,
                HH:   pad(H),
                M:    M,
                MM:   pad(M),
                s:    s,
                ss:   pad(s),
                l:    pad(L, 3),
                L:    pad(L > 99 ? Math.round(L / 10) : L),
                t:    H < 12 ? "a"  : "p",
                tt:   H < 12 ? "am" : "pm",
                T:    H < 12 ? "A"  : "P",
                TT:   H < 12 ? "AM" : "PM",
                Z:    utc ? "UTC" : (String(date).match(timezone) || [""]).pop().replace(timezoneClip, ""),
                o:    (o > 0 ? "-" : "+") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),
                S:    ["th", "st", "nd", "rd"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]
            };

        return mask.replace(token, function ($0) {
            return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);
        });
    };
}();

// Some common format strings
dateFormat.masks = {
    "default":      "ddd mmm dd yyyy HH:MM:ss",
    shortDate:      "m/d/yy",
    mediumDate:     "mmm d, yyyy",
    longDate:       "mmmm d, yyyy",
    fullDate:       "dddd, mmmm d, yyyy",
    shortTime:      "h:MM TT",
    mediumTime:     "h:MM:ss TT",
    longTime:       "h:MM:ss TT Z",
    isoDate:        "yyyy-mm-dd",
    isoTime:        "HH:MM:ss",
    isoDateTime:    "yyyy-mm-dd'T'HH:MM:ss",
    isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
};

// Internationalization strings
dateFormat.i18n = {
    dayNames: [
        "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat",
        "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"
    ],
    monthNames: [
        "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec",
        "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
    ]
};

callback(dateFormat);

})(function(dateFormat){
    typeof exports === 'undefined'? this['dateFormat'] = dateFormat: module.exports = dateFormat;
}.bind(this));


var defaultLang = 'ru';

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NvcmUvanMvY29tbW9uL2Vycm9ycy5qcyIsIi4uL2NvcmUvanMvY29tbW9uL0V2ZW50RW1pdHRlci5qcyIsIi4uL2NvcmUvanMvY29tbW9uL2NvbW1vblV0aWxzLmpzIiwiLi4vY29yZS9qcy9jb21tb24vcHJlY29uZGl0aW9uLmpzIiwiLi4vY29yZS9qcy9jb21tb24vZGF0ZUZvcm1hdC5qcyIsIi4uLy4uLy4uLy4uL3NtdGstbmltcy10cmFuc2xhdGlvbnMvZGVzL3J1L2RlZmF1bHRMYW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BJQTtBQUNBIiwiZmlsZSI6ImNvbW1vbkNvcmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypDb3B5cmlnaHQgMjAxNyBUaW1vZmV5IFJlY2hrYWxvdiA8bnRzZGtAeWFuZGV4LnJ1PlxyXG5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuXHJcbmh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAgIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLiAqL1xyXG5cclxuLypcclxuICovXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuKGZ1bmN0aW9uKGV4cG9ydHMpe1xyXG5cclxuICAgIGZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvcihtZXNzYWdlSWQsIHBhcmFtZXRlcnMpIHtcclxuICAgICAgRXJyb3IuY2FsbCh0aGlzLCBhcmd1bWVudHMpIDtcclxuICAgICAgdGhpcy5uYW1lID0gXCJWYWxpZGF0aW9uRXJyb3JcIjtcclxuICAgIFxyXG4gICAgICB0aGlzLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZDtcclxuICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcclxuICAgIFxyXG4gICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcclxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBWYWxpZGF0aW9uRXJyb3IpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgXHJcbiAgICBleHBvcnRzLlZhbGlkYXRpb25FcnJvciA9IFZhbGlkYXRpb25FcnJvcjtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gSW50ZXJuYWxFcnJvcihtZXNzYWdlSWQsIHBhcmFtZXRlcnMpIHtcclxuICAgICAgICBFcnJvci5jYWxsKHRoaXMsIGFyZ3VtZW50cykgO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW50ZXJuYWxFcnJvclwiO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubWVzc2FnZUlkID0gbWVzc2FnZUlkO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XHJcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEludGVybmFsRXJyb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIEludGVybmFsRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgXHJcbiAgICBleHBvcnRzLkludGVybmFsRXJyb3IgPSBJbnRlcm5hbEVycm9yO1xyXG5cclxufSkodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnPyB0aGlzWydFcnJvcnMnXT17fTogZXhwb3J0cyk7IiwiLyohXG4gKiBFdmVudEVtaXR0ZXIgdjUuMS4wIC0gZ2l0LmlvL2VlXG4gKiBVbmxpY2Vuc2UgLSBodHRwOi8vdW5saWNlbnNlLm9yZy9cbiAqIE9saXZlciBDYWxkd2VsbCAtIGh0dHA6Ly9vbGkubWUudWsvXG4gKiBAcHJlc2VydmVcbiAqL1xuKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCgpe31mdW5jdGlvbiBpKHQsbil7Zm9yKHZhciBlPXQubGVuZ3RoO2UtLTspaWYodFtlXS5saXN0ZW5lcj09PW4pcmV0dXJuIGU7cmV0dXJuLTF9ZnVuY3Rpb24gbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tlXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXZhciBlPXQucHJvdG90eXBlLHI9dGhpcyxzPXIuRXZlbnRFbWl0dGVyO2UuZ2V0TGlzdGVuZXJzPWZ1bmN0aW9uKG4pe3ZhciByLGUsdD10aGlzLl9nZXRFdmVudHMoKTtpZihuIGluc3RhbmNlb2YgUmVnRXhwKXtyPXt9O2ZvcihlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmbi50ZXN0KGUpJiYocltlXT10W2VdKX1lbHNlIHI9dFtuXXx8KHRbbl09W10pO3JldHVybiByfSxlLmZsYXR0ZW5MaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGUsbj1bXTtmb3IoZT0wO2U8dC5sZW5ndGg7ZSs9MSluLnB1c2godFtlXS5saXN0ZW5lcik7cmV0dXJuIG59LGUuZ2V0TGlzdGVuZXJzQXNPYmplY3Q9ZnVuY3Rpb24obil7dmFyIGUsdD10aGlzLmdldExpc3RlbmVycyhuKTtyZXR1cm4gdCBpbnN0YW5jZW9mIEFycmF5JiYoZT17fSxlW25dPXQpLGV8fHR9LGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24ocixlKXt2YXIgdCxuPXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3Qocikscz1cIm9iamVjdFwiPT10eXBlb2YgZTtmb3IodCBpbiBuKW4uaGFzT3duUHJvcGVydHkodCkmJi0xPT09aShuW3RdLGUpJiZuW3RdLnB1c2gocz9lOntsaXN0ZW5lcjplLG9uY2U6ITF9KTtyZXR1cm4gdGhpc30sZS5vbj1uKFwiYWRkTGlzdGVuZXJcIiksZS5hZGRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihlLHtsaXN0ZW5lcjp0LG9uY2U6ITB9KX0sZS5vbmNlPW4oXCJhZGRPbmNlTGlzdGVuZXJcIiksZS5kZWZpbmVFdmVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRMaXN0ZW5lcnMoZSksdGhpc30sZS5kZWZpbmVFdmVudHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKz0xKXRoaXMuZGVmaW5lRXZlbnQodFtlXSk7cmV0dXJuIHRoaXN9LGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24ocixzKXt2YXIgbixlLHQ9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChyKTtmb3IoZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJihuPWkodFtlXSxzKSwtMSE9PW4mJnRbZV0uc3BsaWNlKG4sMSkpO3JldHVybiB0aGlzfSxlLm9mZj1uKFwicmVtb3ZlTGlzdGVuZXJcIiksZS5hZGRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCExLGUsdCl9LGUucmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyghMCxlLHQpfSxlLm1hbmlwdWxhdGVMaXN0ZW5lcnM9ZnVuY3Rpb24ocix0LGkpe3ZhciBlLG4scz1yP3RoaXMucmVtb3ZlTGlzdGVuZXI6dGhpcy5hZGRMaXN0ZW5lcixvPXI/dGhpcy5yZW1vdmVMaXN0ZW5lcnM6dGhpcy5hZGRMaXN0ZW5lcnM7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBSZWdFeHApZm9yKGU9aS5sZW5ndGg7ZS0tOylzLmNhbGwodGhpcyx0LGlbZV0pO2Vsc2UgZm9yKGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYobj10W2VdKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4/cy5jYWxsKHRoaXMsZSxuKTpvLmNhbGwodGhpcyxlLG4pKTtyZXR1cm4gdGhpc30sZS5yZW1vdmVFdmVudD1mdW5jdGlvbihlKXt2YXIgdCxyPXR5cGVvZiBlLG49dGhpcy5fZ2V0RXZlbnRzKCk7aWYoXCJzdHJpbmdcIj09PXIpZGVsZXRlIG5bZV07ZWxzZSBpZihlIGluc3RhbmNlb2YgUmVnRXhwKWZvcih0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmZS50ZXN0KHQpJiZkZWxldGUgblt0XTtlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHM7cmV0dXJuIHRoaXN9LGUucmVtb3ZlQWxsTGlzdGVuZXJzPW4oXCJyZW1vdmVFdmVudFwiKSxlLmVtaXRFdmVudD1mdW5jdGlvbihuLHUpe3ZhciByLGUsdCxpLG8scz10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KG4pO2ZvcihpIGluIHMpaWYocy5oYXNPd25Qcm9wZXJ0eShpKSlmb3Iocj1zW2ldLnNsaWNlKDApLHQ9MDt0PHIubGVuZ3RoO3QrKyllPXJbdF0sZS5vbmNlPT09ITAmJnRoaXMucmVtb3ZlTGlzdGVuZXIobixlLmxpc3RlbmVyKSxvPWUubGlzdGVuZXIuYXBwbHkodGhpcyx1fHxbXSksbz09PXRoaXMuX2dldE9uY2VSZXR1cm5WYWx1ZSgpJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKG4sZS5saXN0ZW5lcik7cmV0dXJuIHRoaXN9LGUudHJpZ2dlcj1uKFwiZW1pdEV2ZW50XCIpLGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHRoaXMuZW1pdEV2ZW50KGUsdCl9LGUuc2V0T25jZVJldHVyblZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9vbmNlUmV0dXJuVmFsdWU9ZSx0aGlzfSxlLl9nZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eShcIl9vbmNlUmV0dXJuVmFsdWVcIik/dGhpcy5fb25jZVJldHVyblZhbHVlOiEwfSxlLl9nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KX0sdC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHIuRXZlbnRFbWl0dGVyPXMsdH0sXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiB0fSk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dDpyLkV2ZW50RW1pdHRlcj10fSkuY2FsbCh0aGlzKTsiLCIvKkNvcHlyaWdodCAyMDE3IFRpbW9mZXkgUmVjaGthbG92IDxudHNka0B5YW5kZXgucnU+XHJcblxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG5cclxuaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuICovXHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbihmdW5jdGlvbihjYWxsYmFjayl7XHJcbiAgICAgICAgXHJcbiAgICBmdW5jdGlvbiBDb21tb25VdGlscyhleHBvcnRzLCBSKSB7XHJcbiAgICBcclxuICAgICAgICBleHBvcnRzLnN0YXJ0c1dpdGggPSBmdW5jdGlvbihzdHIxLCBzdHIyKXtcclxuICAgICAgICAgICAgcmV0dXJuIHN0cjEuc3Vic3RyaW5nKDAsIHN0cjIubGVuZ3RoKSA9PT0gc3RyMjtcclxuICAgICAgICB9O1xyXG4gICAgXHJcbiAgICAgICAgZXhwb3J0cy5yZW1vdmVGcm9tQXJyYXlCeUluZGV4ID0gZnVuY3Rpb24oYXJyYXksIGZyb20sIHRvKSB7XHJcbiAgICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgICAgICAgICB2YXIgcmVzdCA9IGFycmF5LnNsaWNlKCh0byB8fCBmcm9tKSArIDEgfHwgYXJyYXkubGVuZ3RoKTtcclxuICAgICAgICAgICAgYXJyYXkubGVuZ3RoID0gZnJvbSA8IDAgPyBhcnJheS5sZW5ndGggKyBmcm9tIDogZnJvbTtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnB1c2guYXBwbHkoYXJyYXksIHJlc3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwb3J0cy5jaGFyT3JkQUZhY3RvcnlCYXNlID0gUi5jdXJyeShmdW5jdGlvbihzb3J0RGlyLCBwcmVwYXJlKXtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIGEgPSBwcmVwYXJlKGEpO1xyXG4gICAgICAgICAgICAgICAgYiA9IHByZXBhcmUoYik7XHJcbiAgICAgICAgICAgICAgICBpZihSLmlzTmlsKGEpICYmIFIuaXNOaWwoYikpIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgaWYoUi5pc05pbChhKSkgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICBpZihSLmlzTmlsKGIpKSByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICBpZiAoYSA+IGIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnREaXIgPT09IFwiYXNjXCIgPyAxIDogLTE7XHJcbiAgICAgICAgICAgICAgICBpZiAoYSA8IGIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnREaXIgPT09IFwiYXNjXCIgPyAtMSA6IDE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBleHBvcnRzLmNoYXJPcmRBRmFjdG9yeSA9IGV4cG9ydHMuY2hhck9yZEFGYWN0b3J5QmFzZSgnYXNjJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwb3J0cy5jaGFyT3JkQSA9IGV4cG9ydHMuY2hhck9yZEFGYWN0b3J5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCk7fSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwb3J0cy5ldmVudHNCeVRpbWUgPSBleHBvcnRzLmNoYXJPcmRBRmFjdG9yeShmdW5jdGlvbihhKXtyZXR1cm4gbmV3IERhdGUoYS50aW1lKTt9KTtcclxuICAgIFxyXG4gICAgICAgIGV4cG9ydHMuc3RyRm9ybWF0ID0gZnVuY3Rpb24oc3RyLCB2YWxzKXtcclxuICAgICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFx7XFx7fFxcfVxcfXxcXHsoXFxkKylcXH0vZywgZnVuY3Rpb24gKG0sIG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChtID09IFwie3tcIikgeyByZXR1cm4gXCJ7XCI7IH1cclxuICAgICAgICAgICAgICAgIGlmIChtID09IFwifX1cIikgeyByZXR1cm4gXCJ9XCI7IH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxzW25dO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cG9ydHMuY29uc29sZUxvZyA9IGZ1bmN0aW9uKHN0cil7XHJcbiAgICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwb3J0cy5jbG9uZSA9IGZ1bmN0aW9uKG8pIHtcclxuICAgICAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICAgICAgICAgIGlmICghbyB8fCAnb2JqZWN0JyAhPT0gdHlwZW9mIG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjID0gJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG8ucG9wID8gW10gOiB7fTtcclxuICAgICAgICAgICAgdmFyIHAsIHY7XHJcbiAgICAgICAgICAgIGZvciAocCBpbiBvKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBvW3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2ICYmICdvYmplY3QnID09PSB0eXBlb2Ygdikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjW3BdID0gZXhwb3J0cy5jbG9uZSh2KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjW3BdID0gdjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgcHJlZ19xdW90ZSA9IGZ1bmN0aW9uIChzdHIsIGRlbGltaXRlcikge1xyXG4gICAgICAgICAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgICAgICAgICAgLy8gaHR0cDovL2tldmluLnZhbnpvbm5ldmVsZC5uZXRcclxuICAgICAgICAgICAgLy8gKyBvcmlnaW5hbCBieTogYm9vZXlPSFxyXG4gICAgICAgICAgICAvLyArIGltcHJvdmVkIGJ5OiBBdGVzIEdvcmFsIChodHRwOi8vbWFnbmV0aXEuY29tKVxyXG4gICAgICAgICAgICAvLyArIGltcHJvdmVkIGJ5OiBLZXZpbiB2YW4gWm9ubmV2ZWxkIChodHRwOi8va2V2aW4udmFuem9ubmV2ZWxkLm5ldClcclxuICAgICAgICAgICAgLy8gKyBidWdmaXhlZCBieTogT25ubyBNYXJzbWFuXHJcbiAgICAgICAgICAgIC8vICsgaW1wcm92ZWQgYnk6IEJyZXR0IFphbWlyIChodHRwOi8vYnJldHQtemFtaXIubWUpXHJcbiAgICAgICAgICAgIC8vICogZXhhbXBsZSAxOiBwcmVnX3F1b3RlKFwiJDQwXCIpO1xyXG4gICAgICAgICAgICAvLyAqIHJldHVybnMgMTogJ1xcJDQwJ1xyXG4gICAgICAgICAgICAvLyAqIGV4YW1wbGUgMjogcHJlZ19xdW90ZShcIipSUlJJTkcqIEhlbGxvP1wiKTtcclxuICAgICAgICAgICAgLy8gKiByZXR1cm5zIDI6ICdcXCpSUlJJTkdcXCogSGVsbG9cXD8nXHJcbiAgICAgICAgICAgIC8vICogZXhhbXBsZSAzOiBwcmVnX3F1b3RlKFwiXFxcXC4rKj9bXl0kKCl7fT0hPD58OlwiKTtcclxuICAgICAgICAgICAgLy8gKiByZXR1cm5zIDM6ICdcXFxcXFwuXFwrXFwqXFw/XFxbXFxeXFxdXFwkXFwoXFwpXFx7XFx9XFw9XFwhXFw8XFw+XFx8XFw6J1xyXG4gICAgICAgICAgICByZXR1cm4gKHN0ciArICcnKS5yZXBsYWNlKG5ldyBSZWdFeHAoJ1suXFxcXFxcXFwrKj9cXFxcW1xcXFxeXFxcXF0kKCl7fT0hPD58OlxcXFwnXHJcbiAgICAgICAgICAgICAgICAgICAgKyAoZGVsaW1pdGVyIHx8ICcnKSArICctXScsICdnJyksICdcXFxcJCYnKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cG9ydHMuZ2xvYlN0cmluZ1RvUmVnZXggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChwcmVnX3F1b3RlKHN0cikucmVwbGFjZSgvXFxcXFxcKi9nLCAnLionKS5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgICAgIC9cXFxcXFw/L2csICcuJyksICdnJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB0YWtlbiBmcm9tIE1ETiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L0d1aWRlL1JlZ3VsYXJfRXhwcmVzc2lvbnNcclxuICAgICAgICBleHBvcnRzLmVzY2FwZVJlZ0V4cCA9IGZ1bmN0aW9uKHN0cmluZyl7XHJcbiAgICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyk7IC8vICQmIG1lYW5zIHRoZSB3aG9sZSBtYXRjaGVkIHN0cmluZ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgZXhwb3J0cy5hcnIybWFwID0gZnVuY3Rpb24oYXJyYXksIGtleSl7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICAgICAgYVtiW2tleV1dID0gYjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgY2FsbGJhY2soQ29tbW9uVXRpbHMpO1xyXG5cclxufSkoZnVuY3Rpb24oYXBpKXtcclxuICAgIHR5cGVvZiBleHBvcnRzID09PSAndW5kZWZpbmVkJz8gYXBpKHRoaXNbJ0NvbW1vblV0aWxzJ10gPSB7fSwgUikgOiBtb2R1bGUuZXhwb3J0cyA9IGFwaTtcclxufS5iaW5kKHRoaXMpKTsiLCIvKkNvcHlyaWdodCAyMDE3IFRpbW9mZXkgUmVjaGthbG92IDxudHNka0B5YW5kZXgucnU+XG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuICovXG5cblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oY2FsbGJhY2spe1xuICAgICAgICBcbiAgICBmdW5jdGlvbiBQcmVjb25kaXRpb24oZXhwb3J0cywgUiwgRXJyb3JzKSB7XG4gICAgXG4gICAgICAgIGV4cG9ydHMubWFrZVZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICBlcnIuc3BsaWNlKDAsIDAsIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoRXJyb3JzLlZhbGlkYXRpb25FcnJvciwgZXJyKSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBwcmVjb25kaXRpb24gQVBJXG4gICAgICAgIGV4cG9ydHMucHJlY29uZGl0aW9uID0gUi5jdXJyeShmdW5jdGlvbihjaGVjaywgcmVqZWN0LCByZXNvbHZlKXtcbiAgICAgICAgICAgIHZhciBlcnIgPSBjaGVjaygpO1xuICAgICAgICAgICAgaWYoZXJyID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChleHBvcnRzLm1ha2VWYWxpZGF0aW9uRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5jaGFpbkNoZWNrID0gUi5jdXJyeShmdW5jdGlvbihhcnIpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbihlcnIsIGl0ZW0pe1xuICAgICAgICAgICAgICAgICAgICBpZihlcnIpIHJldHVybiBlcnI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtKCk7XG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5laXRoZXJDaGVjayA9IFIuY3VycnkoZnVuY3Rpb24oZnVuYzEsIGZ1bmMyKXtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHJlczEgPSBmdW5jMSgpO1xuICAgICAgICAgICAgICAgIGlmKHJlczEgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJlczIgPSBmdW5jMigpO1xuICAgICAgICAgICAgICAgIGlmKHJlczIgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlczE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gcHJpbWl0aXZlIHByZWNvbmRpdGlvbiBjaGVja3NcbiAgICAgICAgdmFyIGFyckNvbnRhaW5zRWxzQ2hlY2sgPSBSLmN1cnJ5KGZ1bmN0aW9uKG1zZywgZWxzLCB2YWx1ZUxpc3Qpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IFIuZGlmZmVyZW5jZShlbHMsIHZhbHVlTGlzdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpZmYubGVuZ3RoID09PSAwID8gbnVsbCA6IFttc2csIFtKU09OLnN0cmluZ2lmeShkaWZmKV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cG9ydHMuZWxlbWVudHNGcm9tRW51bSA9IGFyckNvbnRhaW5zRWxzQ2hlY2soJ2Vycm9ycy11bnN1cHBvcnRlZC10eXBlcy1pbi1saXN0Jyk7XG4gICAgICAgIGV4cG9ydHMuZW50aXRpZXNFeGlzdCA9IGFyckNvbnRhaW5zRWxzQ2hlY2soJ2Vycm9ycy1lbnRpdGllcy1hcmUtbm90LWV4aXN0Jyk7XG4gICAgICAgIFxuICAgICAgICB2YXIgYXJyQ29udGFpbnNFbENoZWNrID0gUi5jdXJyeShmdW5jdGlvbihtc2csIGVsLCB2YWx1ZUxpc3Qpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5jb250YWlucyhlbCwgdmFsdWVMaXN0KSA/IG51bGwgOiBbbXNnLCBbZWxdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmVsZW1lbnRGcm9tRW51bSA9IGFyckNvbnRhaW5zRWxDaGVjaygnZXJyb3JzLXVuc3VwcG9ydGVkLXR5cGUtaW4tbGlzdCcpO1xuICAgICAgICBleHBvcnRzLmVudGl0eUV4aXN0cyA9IGFyckNvbnRhaW5zRWxDaGVjaygnZXJyb3JzLWVudGl0eS1pcy1ub3QtZXhpc3QnKTtcbiAgICAgICAgXG4gICAgICAgIGV4cG9ydHMuZW50aXR5SXNOb3RVc2VkID0gUi5jdXJyeShmdW5jdGlvbihlbCwgdmFsdWVMaXN0KXtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFSLmNvbnRhaW5zKGVsLCB2YWx1ZUxpc3QpID8gbnVsbCA6IFsnZXJyb3JzLWVudGl0eS1pcy11c2VkJywgW2VsXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5pc1N0cmluZyA9IFIuY3VycnkoZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5pcyhTdHJpbmcsIGVsKSA/IG51bGwgOiBbJ2Vycm9ycy1hcmd1bWVudC1pcy1ub3QtYS1zdHJpbmcnLCBbZWxdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmlzRW1wdHlTdHJpbmcgPSBSLmN1cnJ5KGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFIuZXF1YWxzKCcnLCBlbCkgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtaXMtbm90LWVtcHR5LXN0cmluZycsIFtlbF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cG9ydHMuaXNOb3RFbXB0eVN0cmluZyA9IFIuY3VycnkoZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIVIuZXF1YWxzKCcnLCBlbCkgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtaXMtZW1wdHktc3RyaW5nJywgW2VsXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5uYW1lSXNOb3RFbXB0eSA9IFIuY3VycnkoZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIVIuZXF1YWxzKCcnLCBlbCkgPyBudWxsIDogWydlcnJvcnMtbmFtZS1pcy1lbXB0eS1zdHJpbmcnLCBbZWxdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmlzQXJyYXkgPSBSLmN1cnJ5KGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFIuaXMoQXJyYXksIGVsKSA/IG51bGwgOiBbJ2Vycm9ycy1hcmd1bWVudC1pcy1ub3QtYW4tYXJyYXknLCBbZWxdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmlzT2JqZWN0ID0gUi5jdXJyeShmdW5jdGlvbihlbCl7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBSLmlzKE9iamVjdCwgZWwpID8gbnVsbCA6IFsnZXJyb3JzLWFyZ3VtZW50LWlzLW5vdC1hbi1vYmplY3QnLCBbZWxdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmlzQm9vbGVhbiA9IFIuY3VycnkoZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5pcyhCb29sZWFuLCBlbCkgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtaXMtbm90LWEtYm9vbGVhbicsIFtlbF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cG9ydHMuaXNOdW1iZXIgPSBSLmN1cnJ5KGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFIuaXMoTnVtYmVyLCBlbCkgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtaXMtbm90LWEtbnVtYmVyJywgW2VsXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5pc05pbCA9IFIuY3VycnkoZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUi5pc05pbChlbCkgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtaXMtbm90LW5pbCcsIFtlbF1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGV4cG9ydHMubmlsID0gUi5jdXJyeShmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLm5vdEVxdWFscyA9IFIuY3VycnkoZnVuY3Rpb24oZWwsIGVsMil7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAhUi5lcXVhbHMoZWwsIGVsMikgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtbXVzdC1ub3QtYmUtZXF1YWwnLCBbZWxdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmVxdWFscyA9IFIuY3VycnkoZnVuY3Rpb24oZWwsIGVsMil7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBSLmVxdWFscyhlbCwgZWwyKSA/IG51bGwgOiBbJ2Vycm9ycy1hcmd1bWVudHMtbXVzdC1iZS1lcXVhbCcsIFtlbCwgZWwyXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5pc0luUmFuZ2UgPSBSLmN1cnJ5KGZ1bmN0aW9uKGVsLCBsb3csIHVwKXtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvdyA8PSBlbCAmJiBlbCA8PSB1cCA/IG51bGwgOiBbJ2Vycm9ycy1hcmd1bWVudC1pcy1ub3QtaW4tcmFuZ2UnLCBbZWwsIGxvdywgdXBdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmlzTm9uTmVnYXRpdmUgPSBSLmN1cnJ5KGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDAgPD0gZWwgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtaXMtbmVnYXRpdmUnLCBbZWxdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmNyZWF0ZUVudGl0eUNoZWNrID0gUi5jdXJyeShmdW5jdGlvbihlbnRpdHlOYW1lLCBlbnRpdHlMaXN0KXtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmNoYWluQ2hlY2soW2V4cG9ydHMuaXNTdHJpbmcoZW50aXR5TmFtZSksIGV4cG9ydHMubmFtZUlzTm90RW1wdHkoZW50aXR5TmFtZSksIGV4cG9ydHMuZW50aXR5SXNOb3RVc2VkKGVudGl0eU5hbWUsIGVudGl0eUxpc3QpXSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5lbnRpdHlFeGlzdHNDaGVjayA9IGV4cG9ydHMucmVtb3ZlRW50aXR5Q2hlY2sgPSBSLmN1cnJ5KGZ1bmN0aW9uKGVudGl0eU5hbWUsIGVudGl0eUxpc3Qpe1xuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuY2hhaW5DaGVjayhbZXhwb3J0cy5pc1N0cmluZyhlbnRpdHlOYW1lKSwgZXhwb3J0cy5lbnRpdHlFeGlzdHMoZW50aXR5TmFtZSwgZW50aXR5TGlzdCldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLnJlbmFtZUVudGl0eUNoZWNrID0gUi5jdXJyeShmdW5jdGlvbihmcm9tTmFtZSwgdG9OYW1lLCBlbnRpdHlMaXN0KXtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmNoYWluQ2hlY2soW2V4cG9ydHMucmVtb3ZlRW50aXR5Q2hlY2soZnJvbU5hbWUsIGVudGl0eUxpc3QpLCBleHBvcnRzLmNyZWF0ZUVudGl0eUNoZWNrKHRvTmFtZSwgZW50aXR5TGlzdCldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLnN3aXRjaEVudGl0eUNoZWNrID0gUi5jdXJyeShmdW5jdGlvbihlbnRpdHkxLCBlbnRpdHkyLCBlbnRpdHlMaXN0LCBlbnRpdHlDb250YWluZXJMaXN0KXtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmNoYWluQ2hlY2soW2V4cG9ydHMuZW50aXR5RXhpc3RzQ2hlY2soZW50aXR5MSwgZW50aXR5TGlzdCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cy5lbnRpdHlFeGlzdHNDaGVjayhlbnRpdHkyLCBlbnRpdHlMaXN0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydHMuZW50aXR5RXhpc3RzKGVudGl0eTEsIGVudGl0eUNvbnRhaW5lckxpc3QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0cy5lbnRpdHlJc05vdFVzZWQoZW50aXR5MiwgZW50aXR5Q29udGFpbmVyTGlzdCldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLnBhdHRlcm5DaGVjayA9IFIuY3VycnkoZnVuY3Rpb24oZWwscmVnZXgpe1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChlbCkgPyBudWxsIDogWydlcnJvcnMtYXJndW1lbnQtZG9lc250LW1hdGNoLXBhdHRlcm4nLCBbZWwsIHJlZ2V4LnRvU3RyaW5nKCldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBleHBvcnRzLmFycmF5Q2hlY2sgPSBSLmN1cnJ5KGZ1bmN0aW9uKGFyciwgY2hlY2spe1xuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuY2hhaW5DaGVjayhhcnIubWFwKGNoZWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZXhwb3J0cy5nZXRWYWx1ZUNoZWNrID0gZnVuY3Rpb24odHlwZSl7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmlzQm9vbGVhbjtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5pc051bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLmlzU3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgY2FsbGJhY2soUHJlY29uZGl0aW9uKTtcblxufSkoZnVuY3Rpb24oYXBpKXtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCc/IGFwaSh0aGlzWydQcmVjb25kaXRpb24nXSA9IHt9LCBSLCBFcnJvcnMpIDogbW9kdWxlLmV4cG9ydHMgPSBhcGk7XG59LmJpbmQodGhpcykpOyIsIi8qXHJcbiAqIERhdGUgRm9ybWF0IDEuMi4zXHJcbiAqIChjKSAyMDA3LTIwMDkgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XHJcbiAqIE1JVCBsaWNlbnNlXHJcbiAqXHJcbiAqIEluY2x1ZGVzIGVuaGFuY2VtZW50cyBieSBTY290dCBUcmVuZGEgPHNjb3R0LnRyZW5kYS5uZXQ+XHJcbiAqIGFuZCBLcmlzIEtvd2FsIDxjaXhhci5jb20vfmtyaXMua293YWwvPlxyXG4gKlxyXG4gKiBBY2NlcHRzIGEgZGF0ZSwgYSBtYXNrLCBvciBhIGRhdGUgYW5kIGEgbWFzay5cclxuICogUmV0dXJucyBhIGZvcm1hdHRlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBkYXRlLlxyXG4gKiBUaGUgZGF0ZSBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkYXRlL3RpbWUuXHJcbiAqIFRoZSBtYXNrIGRlZmF1bHRzIHRvIGRhdGVGb3JtYXQubWFza3MuZGVmYXVsdC5cclxuICovXHJcblxyXG4vLyBUaGFua3MgZm9yIHlvdXIgd29yayA7KSBcclxuLy8gTnRzREtcclxuXHJcbihmdW5jdGlvbihjYWxsYmFjayl7XHJcblxyXG52YXIgZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciAgICB0b2tlbiA9IC9kezEsNH18bXsxLDR9fHl5KD86eXkpP3woW0hoTXNUdF0pXFwxP3xbTGxvU1pdfFwiW15cIl0qXCJ8J1teJ10qJy9nLFxyXG4gICAgICAgIHRpbWV6b25lID0gL1xcYig/OltQTUNFQV1bU0RQXVR8KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWV8KD86R01UfFVUQykoPzpbLStdXFxkezR9KT8pXFxiL2csXHJcbiAgICAgICAgdGltZXpvbmVDbGlwID0gL1teLStcXGRBLVpdL2csXHJcbiAgICAgICAgcGFkID0gZnVuY3Rpb24gKHZhbCwgbGVuKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IFN0cmluZyh2YWwpO1xyXG4gICAgICAgICAgICBsZW4gPSBsZW4gfHwgMjtcclxuICAgICAgICAgICAgd2hpbGUgKHZhbC5sZW5ndGggPCBsZW4pIHZhbCA9IFwiMFwiICsgdmFsO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgLy8gUmVnZXhlcyBhbmQgc3VwcG9ydGluZyBmdW5jdGlvbnMgYXJlIGNhY2hlZCB0aHJvdWdoIGNsb3N1cmVcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZSwgbWFzaywgdXRjKSB7XHJcbiAgICAgICAgdmFyIGRGID0gZGF0ZUZvcm1hdDtcclxuXHJcbiAgICAgICAgLy8gWW91IGNhbid0IHByb3ZpZGUgdXRjIGlmIHlvdSBza2lwIG90aGVyIGFyZ3MgKHVzZSB0aGUgXCJVVEM6XCIgbWFzayBwcmVmaXgpXHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0ZSkgPT0gXCJbb2JqZWN0IFN0cmluZ11cIiAmJiAhL1xcZC8udGVzdChkYXRlKSkge1xyXG4gICAgICAgICAgICBtYXNrID0gZGF0ZTtcclxuICAgICAgICAgICAgZGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBhc3NpbmcgZGF0ZSB0aHJvdWdoIERhdGUgYXBwbGllcyBEYXRlLnBhcnNlLCBpZiBuZWNlc3NhcnlcclxuICAgICAgICBkYXRlID0gZGF0ZSA/IG5ldyBEYXRlKGRhdGUpIDogbmV3IERhdGU7XHJcbiAgICAgICAgaWYgKGlzTmFOKGRhdGUpKSB0aHJvdyBTeW50YXhFcnJvcihcImludmFsaWQgZGF0ZVwiKTtcclxuXHJcbiAgICAgICAgbWFzayA9IFN0cmluZyhkRi5tYXNrc1ttYXNrXSB8fCBtYXNrIHx8IGRGLm1hc2tzW1wiZGVmYXVsdFwiXSk7XHJcblxyXG4gICAgICAgIC8vIEFsbG93IHNldHRpbmcgdGhlIHV0YyBhcmd1bWVudCB2aWEgdGhlIG1hc2tcclxuICAgICAgICBpZiAobWFzay5zbGljZSgwLCA0KSA9PSBcIlVUQzpcIikge1xyXG4gICAgICAgICAgICBtYXNrID0gbWFzay5zbGljZSg0KTtcclxuICAgICAgICAgICAgdXRjID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciAgICBfID0gdXRjID8gXCJnZXRVVENcIiA6IFwiZ2V0XCIsXHJcbiAgICAgICAgICAgIGQgPSBkYXRlW18gKyBcIkRhdGVcIl0oKSxcclxuICAgICAgICAgICAgRCA9IGRhdGVbXyArIFwiRGF5XCJdKCksXHJcbiAgICAgICAgICAgIG0gPSBkYXRlW18gKyBcIk1vbnRoXCJdKCksXHJcbiAgICAgICAgICAgIHkgPSBkYXRlW18gKyBcIkZ1bGxZZWFyXCJdKCksXHJcbiAgICAgICAgICAgIEggPSBkYXRlW18gKyBcIkhvdXJzXCJdKCksXHJcbiAgICAgICAgICAgIE0gPSBkYXRlW18gKyBcIk1pbnV0ZXNcIl0oKSxcclxuICAgICAgICAgICAgcyA9IGRhdGVbXyArIFwiU2Vjb25kc1wiXSgpLFxyXG4gICAgICAgICAgICBMID0gZGF0ZVtfICsgXCJNaWxsaXNlY29uZHNcIl0oKSxcclxuICAgICAgICAgICAgbyA9IHV0YyA/IDAgOiBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCksXHJcbiAgICAgICAgICAgIGZsYWdzID0ge1xyXG4gICAgICAgICAgICAgICAgZDogICAgZCxcclxuICAgICAgICAgICAgICAgIGRkOiAgIHBhZChkKSxcclxuICAgICAgICAgICAgICAgIGRkZDogIGRGLmkxOG4uZGF5TmFtZXNbRF0sXHJcbiAgICAgICAgICAgICAgICBkZGRkOiBkRi5pMThuLmRheU5hbWVzW0QgKyA3XSxcclxuICAgICAgICAgICAgICAgIG06ICAgIG0gKyAxLFxyXG4gICAgICAgICAgICAgICAgbW06ICAgcGFkKG0gKyAxKSxcclxuICAgICAgICAgICAgICAgIG1tbTogIGRGLmkxOG4ubW9udGhOYW1lc1ttXSxcclxuICAgICAgICAgICAgICAgIG1tbW06IGRGLmkxOG4ubW9udGhOYW1lc1ttICsgMTJdLFxyXG4gICAgICAgICAgICAgICAgeXk6ICAgU3RyaW5nKHkpLnNsaWNlKDIpLFxyXG4gICAgICAgICAgICAgICAgeXl5eTogeSxcclxuICAgICAgICAgICAgICAgIGg6ICAgIEggJSAxMiB8fCAxMixcclxuICAgICAgICAgICAgICAgIGhoOiAgIHBhZChIICUgMTIgfHwgMTIpLFxyXG4gICAgICAgICAgICAgICAgSDogICAgSCxcclxuICAgICAgICAgICAgICAgIEhIOiAgIHBhZChIKSxcclxuICAgICAgICAgICAgICAgIE06ICAgIE0sXHJcbiAgICAgICAgICAgICAgICBNTTogICBwYWQoTSksXHJcbiAgICAgICAgICAgICAgICBzOiAgICBzLFxyXG4gICAgICAgICAgICAgICAgc3M6ICAgcGFkKHMpLFxyXG4gICAgICAgICAgICAgICAgbDogICAgcGFkKEwsIDMpLFxyXG4gICAgICAgICAgICAgICAgTDogICAgcGFkKEwgPiA5OSA/IE1hdGgucm91bmQoTCAvIDEwKSA6IEwpLFxyXG4gICAgICAgICAgICAgICAgdDogICAgSCA8IDEyID8gXCJhXCIgIDogXCJwXCIsXHJcbiAgICAgICAgICAgICAgICB0dDogICBIIDwgMTIgPyBcImFtXCIgOiBcInBtXCIsXHJcbiAgICAgICAgICAgICAgICBUOiAgICBIIDwgMTIgPyBcIkFcIiAgOiBcIlBcIixcclxuICAgICAgICAgICAgICAgIFRUOiAgIEggPCAxMiA/IFwiQU1cIiA6IFwiUE1cIixcclxuICAgICAgICAgICAgICAgIFo6ICAgIHV0YyA/IFwiVVRDXCIgOiAoU3RyaW5nKGRhdGUpLm1hdGNoKHRpbWV6b25lKSB8fCBbXCJcIl0pLnBvcCgpLnJlcGxhY2UodGltZXpvbmVDbGlwLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgIG86ICAgIChvID4gMCA/IFwiLVwiIDogXCIrXCIpICsgcGFkKE1hdGguZmxvb3IoTWF0aC5hYnMobykgLyA2MCkgKiAxMDAgKyBNYXRoLmFicyhvKSAlIDYwLCA0KSxcclxuICAgICAgICAgICAgICAgIFM6ICAgIFtcInRoXCIsIFwic3RcIiwgXCJuZFwiLCBcInJkXCJdW2QgJSAxMCA+IDMgPyAwIDogKGQgJSAxMDAgLSBkICUgMTAgIT0gMTApICogZCAlIDEwXVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gbWFzay5yZXBsYWNlKHRva2VuLCBmdW5jdGlvbiAoJDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICQwIGluIGZsYWdzID8gZmxhZ3NbJDBdIDogJDAuc2xpY2UoMSwgJDAubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59KCk7XHJcblxyXG4vLyBTb21lIGNvbW1vbiBmb3JtYXQgc3RyaW5nc1xyXG5kYXRlRm9ybWF0Lm1hc2tzID0ge1xyXG4gICAgXCJkZWZhdWx0XCI6ICAgICAgXCJkZGQgbW1tIGRkIHl5eXkgSEg6TU06c3NcIixcclxuICAgIHNob3J0RGF0ZTogICAgICBcIm0vZC95eVwiLFxyXG4gICAgbWVkaXVtRGF0ZTogICAgIFwibW1tIGQsIHl5eXlcIixcclxuICAgIGxvbmdEYXRlOiAgICAgICBcIm1tbW0gZCwgeXl5eVwiLFxyXG4gICAgZnVsbERhdGU6ICAgICAgIFwiZGRkZCwgbW1tbSBkLCB5eXl5XCIsXHJcbiAgICBzaG9ydFRpbWU6ICAgICAgXCJoOk1NIFRUXCIsXHJcbiAgICBtZWRpdW1UaW1lOiAgICAgXCJoOk1NOnNzIFRUXCIsXHJcbiAgICBsb25nVGltZTogICAgICAgXCJoOk1NOnNzIFRUIFpcIixcclxuICAgIGlzb0RhdGU6ICAgICAgICBcInl5eXktbW0tZGRcIixcclxuICAgIGlzb1RpbWU6ICAgICAgICBcIkhIOk1NOnNzXCIsXHJcbiAgICBpc29EYXRlVGltZTogICAgXCJ5eXl5LW1tLWRkJ1QnSEg6TU06c3NcIixcclxuICAgIGlzb1V0Y0RhdGVUaW1lOiBcIlVUQzp5eXl5LW1tLWRkJ1QnSEg6TU06c3MnWidcIlxyXG59O1xyXG5cclxuLy8gSW50ZXJuYXRpb25hbGl6YXRpb24gc3RyaW5nc1xyXG5kYXRlRm9ybWF0LmkxOG4gPSB7XHJcbiAgICBkYXlOYW1lczogW1xyXG4gICAgICAgIFwiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCIsXHJcbiAgICAgICAgXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXHJcbiAgICBdLFxyXG4gICAgbW9udGhOYW1lczogW1xyXG4gICAgICAgIFwiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCIsXHJcbiAgICAgICAgXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXHJcbiAgICBdXHJcbn07XHJcblxyXG5jYWxsYmFjayhkYXRlRm9ybWF0KTtcclxuXHJcbn0pKGZ1bmN0aW9uKGRhdGVGb3JtYXQpe1xyXG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnPyB0aGlzWydkYXRlRm9ybWF0J10gPSBkYXRlRm9ybWF0OiBtb2R1bGUuZXhwb3J0cyA9IGRhdGVGb3JtYXQ7XHJcbn0uYmluZCh0aGlzKSk7XHJcblxyXG4iLCJ2YXIgZGVmYXVsdExhbmcgPSAncnUnO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
